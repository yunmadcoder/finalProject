<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="tiles"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
<!-- 메타 태그 영역 -->
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta id="_csrf" name="_csrf" content="${_csrf.token }" />
<meta id="_csrf_header" name="_csrf_header" content="${_csrf.headerName }" />

<title>THINK LINK ADMIN</title>

<style>
.header-option {
	z-index: 10;
	display: block;
	position: absolute;
	top: 12px;
	right: 16px;
}

.header-option ul, .header-option ul>li {
	display: inline-block;
}

.toggle-sidebar {
	left: -250px !important;
	transition: left 0.5s ease;
}

.page-area-margin {
	margin-left: 250px;
	transition: left 0.5s ease;
}
</style>
<!-- HEADER PART -->
<tiles:insertAttribute name="headerPart" />
</head>
<body style="background: #f1f1f1;">
	<div id="main-wrapper">
		<!-- ASIDE 영역 -->
		<tiles:insertAttribute name="asideAdmin" />
		<div class="page-wrapper page-area-margin">
			<div class="top-0">
				<div>
					<button id="toggle-sidebar">보튼</button>
				</div>
				<div class="header-option">
					<ul>
						<li>헤더메뉴1</li>
						<li>헤더메뉴2</li>
						<li>헤더메뉴3</li>
					</ul>
				</div>
			</div>
			<div class="container-fluid">
				<!-- CONTENT 영역 -->
				<tiles:insertAttribute name="contentAdmin" />
			</div>
		</div>
	</div>
	<!-- FOOTER PART -->
	<tiles:insertAttribute name="footerPart" />
</body>
<script>
	document.addEventListener("DOMContentLoaded", function(e) {
		let sidebarHidden = false; // 사이드바 상태를 나타내는 변수를 추가합니다.
		let toggleSidebar = $('#toggle-sidebar');

		toggleSidebar.on('click', function() {
			if (!sidebarHidden) {
		        hideSidebar(); // 사이드바가 보이는 상태일 때, 숨깁니다.
		    } else {
		        showSidebar(); // 사이드바가 숨겨진 상태일 때, 보입니다.
		    }
		});

		function hideSidebar() {
			$('.left-sidebar').animate({
				left : '-250px' // 단위를 명시적으로 지정합니다.
			}, {
				duration : 100, // 애니메이션 지속 시간을 1000밀리초(1초)로 지정합니다.
				easing : 'swing', // 이징 함수를 swing으로 설정합니다. 다른 이징 함수로 변경 가능합니다.
				complete : function() { // 애니메이션이 완료되면 실행할 콜백 함수를 지정합니다.
					sidebarHidden = true; // 사이드바가 숨겨진 상태로 변경합니다.
				}
			});
		}
		
		function showSidebar() {
		    $('.left-sidebar').animate({
		        left: '0'
		    }, {
		        duration: 100,
		        easing: 'swing',
		        complete: function() {
		            sidebarHidden = false; // 사이드바가 보이는 상태로 변경합니다.
		        }
		    });
		}
	});
</script>
</html>